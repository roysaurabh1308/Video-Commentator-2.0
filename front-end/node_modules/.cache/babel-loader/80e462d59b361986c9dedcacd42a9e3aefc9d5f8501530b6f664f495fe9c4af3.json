{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/video-captioning-frontend/src/LiveStream.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LiveStream() {\n  _s();\n  const [streamUrl, setStreamUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const videoRef = useRef(null);\n\n  // Function to access the user's camera\n  async function handleStartCamera() {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n      }\n    } catch (error) {\n      console.error('Error accessing the camera:', error);\n      setError('Error accessing the camera');\n    }\n  }\n\n  // Function to update the stream URL state\n  function handleLinkChange(event) {\n    setStreamUrl(event.target.value);\n    setError(null); // Clear any previous error\n  }\n\n  // Function to load the video stream from the URL\n  function handleLoadStream() {\n    if (videoRef.current) {\n      setLoading(true);\n      const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n      videoRef.current.src = proxyUrl + streamUrl;\n      videoRef.current.load();\n      videoRef.current.onloadeddata = () => {\n        setLoading(false);\n        setError(null); // Clear any previous error\n      };\n      videoRef.current.onerror = () => {\n        setLoading(false);\n        setError('Error loading video from URL');\n      };\n    }\n  }\n\n  // Cleanup function to stop the camera when the component unmounts\n  useEffect(() => {\n    return () => {\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(track => track.stop());\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"live-stream-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Live Video Stream\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: streamUrl,\n        onChange: handleLinkChange,\n        placeholder: \"Enter streaming URL (e.g., http://example.com/stream.m3u8)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadStream,\n        disabled: loading,\n        children: \"Load Stream\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStartCamera,\n        children: \"Access Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading video...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      controls: true,\n      style: {\n        width: '100%',\n        marginTop: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(LiveStream, \"xIQX84lK1rqeqcM3cA8qV1ZOREM=\");\n_c = LiveStream;\nexport default LiveStream;\nvar _c;\n$RefreshReg$(_c, \"LiveStream\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","LiveStream","_s","streamUrl","setStreamUrl","loading","setLoading","error","setError","videoRef","handleStartCamera","mediaStream","navigator","mediaDevices","getUserMedia","video","current","srcObject","console","handleLinkChange","event","target","value","handleLoadStream","proxyUrl","src","load","onloadeddata","onerror","tracks","getTracks","forEach","track","stop","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onClick","disabled","ref","autoPlay","controls","style","width","marginTop","_c","$RefreshReg$"],"sources":["/home/user/Desktop/video-captioning-frontend/src/LiveStream.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\n\nfunction LiveStream() {\n  const [streamUrl, setStreamUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const videoRef = useRef(null);\n\n  // Function to access the user's camera\n  async function handleStartCamera() {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ video: true });\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n      }\n    } catch (error) {\n      console.error('Error accessing the camera:', error);\n      setError('Error accessing the camera');\n    }\n  }\n\n  // Function to update the stream URL state\n  function handleLinkChange(event) {\n    setStreamUrl(event.target.value);\n    setError(null);  // Clear any previous error\n  }\n\n  // Function to load the video stream from the URL\n  function handleLoadStream() {\n    if (videoRef.current) {\n      setLoading(true);\n      const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n      videoRef.current.src = proxyUrl + streamUrl;\n      videoRef.current.load();\n      videoRef.current.onloadeddata = () => {\n        setLoading(false);\n        setError(null);  // Clear any previous error\n      };\n      videoRef.current.onerror = () => {\n        setLoading(false);\n        setError('Error loading video from URL');\n      };\n    }\n  }\n\n  // Cleanup function to stop the camera when the component unmounts\n  useEffect(() => {\n    return () => {\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(track => track.stop());\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"live-stream-container\">\n      <h1>Live Video Stream</h1>\n      <div className=\"input-container\">\n        <input\n          type=\"text\"\n          value={streamUrl}\n          onChange={handleLinkChange}\n          placeholder=\"Enter streaming URL (e.g., http://example.com/stream.m3u8)\"\n        />\n        <button onClick={handleLoadStream} disabled={loading}>Load Stream</button>\n      </div>\n      <div className=\"button-container\">\n        <button onClick={handleStartCamera}>Access Camera</button>\n      </div>\n      {loading && <div>Loading video...</div>}\n      {error && <div className=\"error\">{error}</div>}\n      <video\n        ref={videoRef}\n        autoPlay={true}\n        controls={true}\n        style={{ width: '100%', marginTop: '20px' }}\n      />\n    </div>\n  );\n}\n\nexport default LiveStream;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}