{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/video-captioning-frontend/src/LiveStream.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LiveStream() {\n  _s();\n  const [streamUrl, setStreamUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [frameUrl, setFrameUrl] = useState(null);\n  useEffect(() => {\n    let intervalId;\n    if (streamUrl) {\n      setLoading(true);\n      intervalId = setInterval(async () => {\n        try {\n          const response = await fetch(streamUrl);\n          const blob = await response.blob();\n          const objectUrl = URL.createObjectURL(blob);\n          setFrameUrl(objectUrl);\n        } catch (err) {\n          setError('Error loading video from URL');\n          clearInterval(intervalId);\n        } finally {\n          setLoading(false);\n        }\n      }, 1000); // Fetch a new frame every second\n    }\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [streamUrl]);\n\n  // Function to update the stream URL state\n  function handleLinkChange(event) {\n    setStreamUrl(event.target.value);\n    setError(null); // Clear any previous error\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"live-stream-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Live Video Stream\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: streamUrl,\n        onChange: handleLinkChange,\n        placeholder: \"Enter streaming URL (e.g., http://example.com/video)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStreamUrl(streamUrl),\n        disabled: loading,\n        children: \"Load Stream\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStartCamera,\n        children: \"Access Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading video...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), frameUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: frameUrl,\n        alt: \"Video Frame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(LiveStream, \"s8UK57juyNF28mTiANooMxnL8Ig=\");\n_c = LiveStream;\nexport default LiveStream;\nvar _c;\n$RefreshReg$(_c, \"LiveStream\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","LiveStream","_s","streamUrl","setStreamUrl","loading","setLoading","error","setError","frameUrl","setFrameUrl","intervalId","setInterval","response","fetch","blob","objectUrl","URL","createObjectURL","err","clearInterval","handleLinkChange","event","target","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onClick","disabled","handleStartCamera","src","alt","_c","$RefreshReg$"],"sources":["/home/user/Desktop/video-captioning-frontend/src/LiveStream.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\n\nfunction LiveStream() {\n  const [streamUrl, setStreamUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [frameUrl, setFrameUrl] = useState(null);\n\n  useEffect(() => {\n    let intervalId;\n\n    if (streamUrl) {\n      setLoading(true);\n      intervalId = setInterval(async () => {\n        try {\n          const response = await fetch(streamUrl);\n          const blob = await response.blob();\n          const objectUrl = URL.createObjectURL(blob);\n          setFrameUrl(objectUrl);\n        } catch (err) {\n          setError('Error loading video from URL');\n          clearInterval(intervalId);\n        } finally {\n          setLoading(false);\n        }\n      }, 1000); // Fetch a new frame every second\n    }\n\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [streamUrl]);\n\n  // Function to update the stream URL state\n  function handleLinkChange(event) {\n    setStreamUrl(event.target.value);\n    setError(null);  // Clear any previous error\n  }\n\n  return (\n    <div className=\"live-stream-container\">\n      <h1>Live Video Stream</h1>\n      <div className=\"input-container\">\n        <input\n          type=\"text\"\n          value={streamUrl}\n          onChange={handleLinkChange}\n          placeholder=\"Enter streaming URL (e.g., http://example.com/video)\"\n        />\n        <button onClick={() => setStreamUrl(streamUrl)} disabled={loading}>Load Stream</button>\n      </div>\n      <div className=\"button-container\">\n        <button onClick={handleStartCamera}>Access Camera</button>\n      </div>\n      {loading && <div>Loading video...</div>}\n      {error && <div className=\"error\">{error}</div>}\n      {frameUrl && (\n        <div>\n          <img src={frameUrl} alt=\"Video Frame\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default LiveStream;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}